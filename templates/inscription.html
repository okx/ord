<div class="container inscription-container">
  <div class=inscription>
    <div class="inscription-id">Inscription #{{ self.number }}</div>
    <div class="inscription-preview">
      %% if let Some(previous) = self.previous {
      <a class=prev href=/inscription/{{previous}}>❮</a>
      %% } else {
      <div class="disabled">❮</div>
      %% }
      {{ Iframe::main(self.inscription_id) }}
      %% if let Some(next) = self.next {
      <a class=next href=/inscription/{{next}}>❯</a>
      %% } else {
      <div class="disabled">❯</div>
      %% }
    </div>
    <div class="links">
      <div class="copy-icon" data-copy="https://ordinals.jurat.io/inscription/{{self.inscription_id}}">
        <img src="/static/images/copy-icon.svg" width="19" height="19" />
      </div>
      <a href="https://www.twitter.com/share?url=https://ordinals.jurat.io/inscription/{{self.inscription_id}}"
        target="_blank">
        <img src="/static/images/twitter-icon.svg" width="21" height="18" />
      </a>
      <a href="/content/{{self.inscription_id}}" target="_blank">
        <img src="/static/images/share-icon.svg" width="18" height="18" />
      </a>
    </div>
  </div>
  <div class="main-infos">
    <div class="info">
      <div class="title">
        <div>Inscription iD</div>
        <div class="copy-icon" data-copy="{{ self.inscription_id  }}">
          <img src="/static/images/copy-icon.svg" />
        </div>
      </div>
      <div class="content uppercase">{{ self.inscription_id }}</div>
    </div>
    %% if let Some(traits) = &self.traits {
    %% if let Some(license_type) = traits["jtc_licenseType"].as_str() {
    <div class="info">
      <div class="title">License type</div>
      %% if let Some(inscription_id) = traits["jtc_licenseInscriptionId"].as_str() {
      %% if inscription_id == "Personal" {
      <a class="content"
        href="https://ordinals.jurat.io/content/cc5c050f1e1a636f3c07e51572669e229fcf42720433e9af541358e598f3aacdi0">{{
        license_type }}</a>
      %% } else if inscription_id == "Custom" {
      <a class="content"
        href="https://ordinals.jurat.io/content/b3de73afffed219adf2e8b00f56733786918ebaaf258a93b4219dee3ebe25818i0">{{
        license_type }}</a>
      %% } else if inscription_id == "Commercial" {
      <a class="content"
        href="https://ordinals.jurat.io/content/46657effcaade2578eda42ec54490ad15da1029381dc446ae80f016593666273i0">{{
        license_type }}</a>
      %% } else {
      <div class="content">{{ license_type }}</div>
      %% }
      %% } else {
      <div class="content">{{ license_type }}</div>
      %% }
    </div>
    %% }
    %% if let Some(royalty_percentage) = traits["jtc_royaltyAmountPercent"].as_str() {
    <div class="info">
      <div class="title">Royalty Percentage</div>
      <div class="content">{{ royalty_percentage }}</div>
    </div>
    %% }
    %% if let Some(royalty_address) = traits["jtc_royaltyPayToAddress"].as_str() {
    <div class="info">
      <div class="title">royalty Must be paid to</div>
      <div class="content">{{ royalty_address }}</div>
    </div>
    %% }
    %% }
    %% if let Some(content_type) = self.inscription.content_type() {
    <div class="info">
      <div class="title">File type</div>
      <div class="content">{{ content_type }}</div>
    </div>
    %% }
    %% if let Some(content_length) = self.inscription.content_length() {
    <div class="info">
      <div class="title">File size</div>
      <div class="content" id="size">{{ content_length }}</div>
    </div>
    %% }
    <div class="info">
      <div class="title">created</div>
      <div class="content timestamp">
        <div id="timestamp">{{ self.timestamp }}</div>
        <div id="from-now"></div>
      </div>
    </div>
    %% if let Ok(address) = self.chain.address_from_script(&self.output.script_pubkey ) {
    <div class="info">
      <div class="title">
        <div>
          inscribed by
          <div>
          </div>
        </div>
        <div class="copy-icon" data-copy="{{ address }}">
          <img src="/static/images/copy-icon.svg" />
        </div>
      </div>
      <div class="content" id="inscribed-by">{{ address }}</div>
    </div>
    %% }
    <div class="info">
      <div class="title">tags</div>
      <div class="content">No tags yet</div>
    </div>
  </div>
  <div class="hidden-panel">
    <div class="second-infos hidden" id="second-infos">
      <div class="info">
        <div class="title">hash</div>
        <div class="content uppercase" id="hash">{{ self.inscription_id.txid }}</div>
      </div>
      %% if let Ok(address) = self.chain.address_from_script(&self.output.script_pubkey ) {
      <div class="info">
        <div class="title">
          <div>
            <div>
              address that holds ordinal
            </div>
          </div>
          <div class="copy-icon" data-copy="{{ address }}">
            <img src="/static/images/copy-icon.svg" />
          </div>
        </div>
        <div class="content uppercase" id="address">{{ address }}</div>
      </div>
      %% }
      <div class="info">
        <div class="title">
          <div>creation block</div>
          <div class="copy-icon" data-copy="{{ self.genesis_height }}">
            <img src="/static/images/copy-icon.svg" />
          </div>
        </div>
        <div class="content" id="block">{{ self.genesis_height }}</div>
      </div>
      <div class="info">
        <div class="title">
          <div>creation transaction</div>
          <div class="copy-icon" data-copy="{{ self.inscription_id.txid }}">
            <img src="/static/images/copy-icon.svg" />
          </div>
        </div>
        <div class="content" id="transaction">{{ self.inscription_id.txid }}</div>
      </div>
      <div class="info">
        <div class="title">creation fee</div>
        <div class="content" id="fee">{{ self.genesis_fee }}</div>
      </div>
      %% if let Some(sat) = self.sat {
      <div class="info">
        <div class="title">
          <div>sat</div>
          <div class="copy-icon" data-copy="{{ sat }}">
            <img src="/static/images/copy-icon.svg" />
          </div>
        </div>
        <div class="content">{{ sat }}</div>
      </div>
      <div class="info">
        <div class="title">sat rarity</div>
        <div class="content">{{ sat.rarity() }}</div>
      </div>
      <div class="info">
        <div class="title">sat creation block</div>
        <div class="content" id="sat-block">{{ sat.height() }}</div>
      </div>
      %% }

    </div>
    <button class="show-more-btn" id="show-more">Show More</button>
  </div>
</div>

<script src=/static/inscription.js defer></script>